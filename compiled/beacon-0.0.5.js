!function(){"use strict";function t(t,e,n,i){return new(n||(n=Promise))((function(o,r){function s(t){try{c(i.next(t))}catch(t){r(t)}}function a(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;!function(t){var e=function(t){var e,n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},r="function"==typeof Symbol?Symbol:{},s=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var r=e&&e.prototype instanceof v?e:v,s=Object.create(r.prototype),a=new I(i||[]);return o(s,"_invoke",{value:T(t,n,a)}),s}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var g="suspendedStart",d="suspendedYield",f="executing",p="completed",y={};function v(){}function m(){}function b(){}var w={};u(w,s,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(L([])));S&&S!==n&&i.call(S,s)&&(w=S);var E=b.prototype=v.prototype=Object.create(w);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,r,s,a){var c=h(t[o],t,r);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&i.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(l).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,a)}))}a(c.arg)}var r;o(this,"_invoke",{value:function(t,i){function o(){return new e((function(e,o){n(t,i,e,o)}))}return r=r?r.then(o,o):o()}})}function T(t,n,i){var o=g;return function(r,s){if(o===f)throw new Error("Generator is already running");if(o===p){if("throw"===r)throw s;return{value:e,done:!0}}for(i.method=r,i.arg=s;;){var a=i.delegate;if(a){var c=j(a,i);if(c){if(c===y)continue;return c}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===g)throw o=p,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=f;var u=h(t,n,i);if("normal"===u.type){if(o=i.done?p:d,u.arg===y)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(o=p,i.method="throw",i.arg=u.arg)}}}function j(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,j(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),y;var r=h(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,y;var s=r.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function L(t){if(null!=t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function n(){for(;++o<t.length;)if(i.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(typeof t+" is not iterable")}return m.prototype=b,o(E,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},x(O.prototype),u(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,i,o,r){void 0===r&&(r=Promise);var s=new O(l(e,n,i,o),r);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},x(E),u(E,c,"Generator"),u(E,s,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(i,o){return a.type="throw",a.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=i.call(s,"catchLoc"),u=i.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=t,s.arg=e,r?(this.method="next",this.next=r.finallyLoc,y):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:L(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}({exports:{}});class e{constructor({name:t,isEnabled:e}){this.name=t,this.isEnabled=e,this.color=this.getColor(t)}getColor(t){var e=0;if(0===t.length)return"";for(var n=0;n<t.length;n++)e=t.charCodeAt(n)+((e<<5)-e),e|=0;var i="#";for(n=0;n<3;n++){i+=("00"+(e>>8*n&255).toString(16)).substr(-2)}return i.toString()}get enabled(){return this.isEnabled}set enabled(t){this.isEnabled=t}info(...t){const e=`color: ${this.color}; font-weight: bold;`;this.isEnabled&&console.info(`%c${this.name}\n`,e,...t)}important(t){const e=`color: ${this.color}; font-size: 24px; font-weight: bold;`;this.isEnabled&&(console.log(`%c${this.name}:`,"color: #999; font-size: 10px; font-weight: bold;"),console.log(`%c${t}`,e))}debug(...t){const e=`color: ${this.color}; font-weight: bold;`;this.isEnabled&&console.log(`%c${this.name}\n`,e,...t)}error(...t){console.error(`%c${this.name}\n`,"color: white; background: #ce1a43; font-weight: bold;",...t)}warn(...t){this.isEnabled&&console.warn(`%c${this.name}\n`,"color: white; background: #bf7506; font-weight: bold;",...t)}}class n{constructor(t,n,i,o){this.eventify=function(t,e){t.push=function(n){Array.prototype.push.call(t,n),e(t)}},this.trackerConfig=o,this.parent=t,this.core=n,this.logger=new e({name:i,isEnabled:!!this.trackerConfig.log}),this.logger.debug("initialized",o),this.enabled=!0}track(t,e,n){this.logger.debug("track",{type:t,event:e,properties:n}),this.core?this.core.processActivity(t,e,n):this.logger.error("blueprint does not exist on window")}waitForObject(){return t(this,void 0,void 0,(function*(){}))}subscribeToPush(){return t(this,void 0,void 0,(function*(){}))}init(){return t(this,void 0,void 0,(function*(){this.trackerConfig.autoTrack&&(yield this.autoTrack())}))}autoTrack(){return t(this,void 0,void 0,(function*(){}))}}const i="border:1px solid red;animation: autotrack-indicator 2s infinite;",o=["title"],r=["entity"],s=["entity-id"],a=["entity-props"],c=["props"],u=["dataset","attributes","innerText"];function l(t){const e=Object.create(null);for(const[n,i]of t)e[n]=i;return e}function h(t,e,n){void 0!==t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function g(){const t=crypto.getRandomValues(new Uint16Array(8)),e=[].map.call(t,(t=>t.toString(16).padStart(4,"0"))).join(""),n=(t[5]>>12&3|8).toString(16);return`${e.substr(0,8)}-${e.substr(8,4)}-4${e.substr(13,3)}-${n}${e.substr(17,3)}-${e.substr(20,12)}`}function d(){return Math.floor((new Date).getTime()/1e3)}function f(t,e){for(const n of t){const t=e.querySelector(`meta[name=${n}]`);if(t)return t.getAttribute("content")}}function p(t,e){const n=new Map;for(const i of t){const t=e.querySelector(`meta[name^=${i}]`);t&&n.set(t.name.replace(`${i}-`,""),t.getAttribute("content"))}return n}function y(t,e){if(e){const n=f(t.config.settings.page.eventName,e);return n||(e.title?e.title:"Page Viewed")}}function v(t,e){var n;const{document:i}=e;return l(p(null===(n=t.config.settings.page)||void 0===n?void 0:n.properties,i))}function m(t,e){var n,i,o;let r,s,a;if(r=f(null===(n=t.config.settings.page)||void 0===n?void 0:n.entity,e),r)return s=f(null===(i=t.config.settings.page)||void 0===i?void 0:i.entityId,e),a=p(null===(o=t.config.settings.page)||void 0===o?void 0:o.entityProps,e),{type:r,id:s,props:a?l(a):{}}}function b(t,e){if(e)return e.title?e.title:"Page Viewed"}class w extends n{constructor(t,e,n){super(t,e,"PageTracker",n),this.waitForIt=()=>new Promise((t=>setTimeout(t,this.trackerConfig.settings?this.trackerConfig.settings.pageAutoTrackDelay:600))),this.trackerConfig=n}autoTrack(){return t(this,void 0,void 0,(function*(){yield this.waitForIt();const t={pageName:b(this.core,document),entity:m(this.core,document),properties:v(this.core,window)};this.track("page","PageViewed",Object.assign(Object.assign({page:t.pageName},t.properties),t.entity&&{entity:t.entity}))}))}}class k extends n{constructor(t,e,n){super(t,e,"ClickTracker",n)}trackClick(t,e){const n=e.target;if(n){let o,r={event:e,properties:{}};const s={pageName:y(this.core,document),entity:m(this.core,document),properties:v(this.core,window)},{x:a,y:c}=void 0!==(i=e).pageY&&void 0!==i.pageX?{x:i.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:i.clientY+document.body.scrollTop+document.documentElement.scrollTop}:{x:null,y:null};o=this.getMetaFromTrackedElement(t,u,n),r={event:o.event,properties:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},s.properties),o.properties),s.pageName&&{page:s.pageName}),{location:{x:a,y:c}}),s.entity||o.entity&&{entity:Object.assign(Object.assign({},s.entity),o.entity)})},this.track("track",r.event,r.properties)}var i;return!1}getMetaFromTrackedElement(t,e,n){const i=`${t}Clicked`,o=Object.assign(Object.assign(Object.assign(Object.assign({},n.getAttribute("id")&&{id:n.getAttribute("id")}),n.getAttribute("class")&&{class:n.getAttribute("class")}),n.getAttribute("href")&&{href:n.getAttribute("href")}),n.innerText&&{inner_text:n.innerText});for(const t of e){const e=n[t];if(e){if("dataset"===t)return{event:i,entity:Object.assign(Object.assign({},e.entity&&{type:e.entity}),e.entityId&&{id:e.entityId}),properties:o};this.logger.debug(`found: ${e}`)}}return{event:i,entity:void 0,properties:{}}}autoTrack(){return t(this,void 0,void 0,(function*(){const t=document.querySelectorAll("a"),e=document.querySelectorAll("button");for(const e of t)this.trackerConfig.showAutotrackVisually&&(e.style.cssText+=i),h(e,"click",(t=>{this.trackClick("Link",t)}));for(const t of e)this.trackerConfig.showAutotrackVisually&&(t.style.cssText+=i),h(t,"click",(t=>{this.trackClick("Button",t)}))}))}}class S extends n{constructor(t,e,n){super(t,e,"FormTracker",n)}trackForm(t){t.preventDefault();const e=[],n=t.target;if(n){const t={pageName:y(this.core,document),entity:m(this.core,document),properties:v(this.core,window)},i=Object.assign(Object.assign({},n.getAttribute("id")&&{id:n.getAttribute("id")}),n.getAttribute("class")&&{class:n.getAttribute("class")});if(n.elements)for(const t of n.elements)t.id&&""!==t.id&&e.push({key:t.id,value:t.value});this.track("track","FormSubmitted",Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t.properties),i&&{form:i}),e&&{formValues:e}),t.pageName&&{page:t.pageName}),t.entity&&{entity:t.entity}))}return!1}autoTrack(){return t(this,void 0,void 0,(function*(){0===document.querySelectorAll("form").length&&(yield new Promise((t=>setTimeout(t,2e3))));const t=document.querySelectorAll("form");for(const e of t)this.trackerConfig.showAutotrackVisually&&(e.style.cssText+=i),h(e,"submit",(t=>{this.trackForm(t)}))}))}}class E{constructor(t,e,n){this.config=t,this.core=e,this.parent=n}init(){}setTrackerConfig(t,e){let n=!0,i=!0,o=this.config.log,r=!1;return e&&(void 0!==e.log&&(o=e.log),void 0!==e.showAutotrackVisually&&(r=e.showAutotrackVisually),void 0!==e.enabled&&(n=e.enabled),void 0!==e.autoTrack&&(i=e.autoTrack)),{name:t,enabled:n,autoTrack:i,log:o,showAutotrackVisually:r}}createTracker(t){let e;return e="string"==typeof t?this.setTrackerConfig(t):this.setTrackerConfig(t.name,t),"page"===e.name?new w(this.parent,this.core,e):"click"===e.name?new k(this.parent,this.core,e):"form"===e.name?new S(this.parent,this.core,e):void 0}}class x{constructor(){this.localStorageSupported="undefined"!=typeof window}set(t,e){this.localStorageSupported&&localStorage.setItem(t,e)}get(t){if(this.localStorageSupported){const e=localStorage.getItem(t);return e||null}return null}setJson(t,e){this.localStorageSupported&&localStorage.setItem(t,JSON.stringify(e))}getJson(t){if(this.localStorageSupported){const e=localStorage.getItem(t);return e?JSON.parse(e):void 0}}remove(t){this.localStorageSupported&&localStorage.removeItem(t)}clear(){this.localStorageSupported&&localStorage.clear()}}function O(t){const e=(new x).getJson(t);return e||new Array}class T{constructor(t,n){this.config=t,this.core=n,this.logger=new e({name:"SessionController",isEnabled:!(!this.config.log||!this.config.settings.session.log)})}init(){return t(this,void 0,void 0,(function*(){const t=new x,e=yield t.getJson(this.config.settings.session.storeName);if(e){const t=d();t-e.lastEvent>=this.config.settings.session.duration?(this.logger.debug("Session timeout exceeded, starting new session"),yield this.startSession(e)):(this.logger.debug(`Session active and not timed out, extending session ${e.sessionId}`),this.extendSession(Object.assign(Object.assign({},e),{lastEvent:t})))}else this.logger.debug("No active session"),yield this.startSession()}))}trackSessionEnd(e){return t(this,void 0,void 0,(function*(){this.config.settings.session.trackEvents&&(yield this.core.processActivity("session","SessionEnded",e))}))}trackSessionStart(e){return t(this,void 0,void 0,(function*(){this.config.settings.session.trackEvents&&(yield this.core.processActivity("session","SessionStarted",e))}))}startSession(){return t(this,arguments,void 0,(function*(t=void 0){const e=d();t&&(yield this.trackSessionEnd(t)),this.sessionId=g();const n={sessionId:this.sessionId,firstEvent:e,lastEvent:e};yield(new x).setJson(this.config.settings.session.storeName,n),yield this.trackSessionStart(n)}))}extendSession(e){return t(this,void 0,void 0,(function*(){this.sessionId=e.sessionId,yield(new x).setJson(this.config.settings.session.storeName,e)}))}}class j{constructor(t,n){this.config=t,this.core=n,this.logger=new e({name:"UserController",isEnabled:!(!this.config.log||!this.config.settings.user.log)})}seedAnonymous(e){return t(this,void 0,void 0,(function*(){this.logger.debug("Seeding anonymous identity"),this.userId=g();const t={id:this.userId,type:"anonymous"};this.config.settings.user.trackEvents&&(yield this.core.processActivity("identity","anonymous",t)),yield e.setJson(this.config.settings.user.storeName,t)}))}attemptIdentity(e){return t(this,void 0,void 0,(function*(){this.config.settings.user.seedAnonymous&&(yield this.seedAnonymous(e))}))}init(){return t(this,void 0,void 0,(function*(){const t=new x,e=yield t.getJson(this.config.settings.user.storeName);e?(this.userId=e.id,this.logger.debug(`identity is set as ${this.userId}`)):yield this.attemptIdentity(t)}))}}function A(t,e){switch(e){case"userAndSession":t.user.enabled=!0,t.session.enabled=!0;break;case"user":t.user.enabled=!0,t.session.enabled=!1;break;case"session":t.user.enabled=!1,t.session.enabled=!0;break;case"noPii":t.user.enabled=!1,t.session.enabled=!1}return t}class C{constructor(t,n=[]){var i;this.loaded=!1,this.enabled=!1,this.window=t,this.trackers=new Map,this.config={log:!1,identity:"noPii",apiRoot:"http://localhost",settings:(i="noPii",A({transport:{apiRoute:"/api/activity",method:"sendBeacon"},queue:{store:"localStorage",storeName:"bp-queue"},page:{eventName:o,entity:r,entityId:s,entityProps:a,properties:c},user:{log:!0,enabled:!1,seedAnonymous:!0,trackEvents:!0,storeType:"localStorage",storeName:"bp-user"},session:{log:!0,enabled:!1,trackEvents:!0,storeType:"localStorage",storeName:"bp-session",duration:300}},i)),trackers:[]},this.logger=new e({name:"Core",isEnabled:!0}),this.logger.debug("version 0.0.5, built on March 8, 2024 17:24:49"),this.sessionController=new T(this.config,this),this.userController=new j(this.config,this)}getConfig(){return this.config}init(e){return t(this,void 0,void 0,(function*(){var n;if(e&&(null===(n=this.logger)||void 0===n||n.debug("config loaded",e),this.applyConfig(e)),this.config.settings.user.enabled&&(yield this.userController.init()),this.config.settings.session.enabled&&(yield this.sessionController.init()),this.config){const e=new E(this.config,this,this.window);for(const t of this.config.trackers){if(void 0===t)return;const n=e.createTracker(t);n&&this.trackers.set(n.trackerConfig.name,n)}this.trackers.forEach((e=>t(this,void 0,void 0,(function*(){yield e.init()}))))}this.loaded=!0}))}applyConfig(t){this.config=Object.assign(Object.assign({},this.config),t),this.config.settings=A(this.config.settings,this.config.identity),this.enabled=!0}track(t,e,n){this.processActivity(t,e,n)}trackCurrentPage(){const t=this.trackers.get("page");t&&t.autoTrack()}autoTrack(){this.trackers.forEach((t=>{t.autoTrack()}))}getQueue(){return O(this.config.settings.queue.storeName)}processIdentity(e,n){return t(this,arguments,void 0,(function*(t,e,n={}){console.log(t,e,n)}))}processActivity(e,n,i){return t(this,void 0,void 0,(function*(){var t;const{screen:{width:o,height:r},navigator:{language:s,userAgent:a},location:{hostname:c,pathname:u,search:l},document:h}=window;let g={screen:`${o}x${r}`,language:s,userAgent:a,url:`${u}${l}`,referrer:h.referrer,hostname:c};this.userController&&this.userController.userId&&(g=Object.assign({userId:this.userController.userId},g)),this.sessionController&&this.sessionController.sessionId&&(g=Object.assign({sessionId:this.sessionController.sessionId},g));const d={type:e,event:n,properties:i,context:g,originalTimestamp:(new Date).toISOString()};null===(t=this.logger)||void 0===t||t.debug("sendToApi",d),yield this.sendActivity(d)}))}sendActivity(e){return t(this,void 0,void 0,(function*(){if("localStorage"===this.config.settings.transport.method){const n=O(this.config.settings.queue.storeName);n.push(e),yield function(e,n){return t(this,void 0,void 0,(function*(){yield(new x).setJson(e,n)}))}(this.config.settings.queue.storeName,n)}if("sendBeacon"===this.config.settings.transport.method){const t=new Blob([JSON.stringify(e)]);navigator.sendBeacon(`${this.config.apiRoot}${this.config.settings.transport.apiRoute}`,t)}}))}}(e=>{let n;if(e._beacon?(n=new C(e,e._beacon.queue),e._beacon=n):(e._beacon={loaded:!1,queue:e.beacon},n=new C(e),e._beacon=n,e.beacon=n),e._beacon.call=function(e,i){return t(this,arguments,void 0,(function*(t,e,i={},o={}){switch(t){case"init":n.init(e);break;case"track":case"page":case"click":case"form":case"dataLayer":yield n.track(t,e,i);break;case"trackCurrentPage":yield n.trackCurrentPage();break;case"identify":case"identity":case"trait":case"traits":yield n.processIdentity({type:t,data:{event:e,properties:i,context:o}});break;case"clear":yield n.clear()}}))},e._beacon.queue){for(const t of e._beacon.queue)e._beacon.call(t[0],t[1],t[2]?t[2]:{},t[3]?t[3]:{});e._beacon.queue=[]}})(window)}();
